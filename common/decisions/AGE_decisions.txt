# ╔╗╔╗╔══╗╔══╗───╔══╗╔══╗─╔══╗╔═══╗╔══╗─╔══╗─╔╗──╔╗
# ║║║║╚═╗║║╔═╝───║╔═╝║╔╗║─║╔╗║║╔══╝║╔╗║─║╔╗║─║║──║║
# ║║║║──║╚╝║─────║║──║╚╝╚╗║║║║║╚══╗║║║║─║║║║─║╚══╣║
# ║║╔║──║╔╗║─────║║──║╔═╗║║║║║║╔═╗║║║║║─║║║║─║╔═╗║║
# ║╚╝║╔═╝║║╚═╗───║╚═╗║╚═╝║║╚╝║║╚═╝║║╚╝║╔╝╚╝╚╗║╚═╝║║
# ╚══╝╚══╝╚══╝───╚══╝╚═══╝╚══╝╚═══╝╚══╝╚════╝╚═══╩╝
AGE_their_freedoms = {
	AGE_conduct_full_scale_raid_1_phase = {
		icon = GFX_decision_eng_trade_unions_support
		available = {
			FROM = {
				is_owned_by = AGE
				has_dynamic_modifier = { modifier = open_opposition }
			}
			divisions_in_state = {
				count > 1
				state = FROM
			}			
		}
		visible = {
			FROM = {
				is_owned_by = AGE
				has_dynamic_modifier = { modifier = open_opposition }
			}	
			has_country_flag = not_their_land_anymore_flag			
		}
		target_array = AGE.owned_states
		state_target = yes
		cost = 40
		days_remove = 30
		remove_effect = {
			FROM = {
				remove_dynamic_modifier = { modifier = open_opposition }
				add_dynamic_modifier = { modifier = clandestine_cells }
			}
			army_experience = 5
			add_to_variable = { var_terrorist_attack = -2 tooltip = var_terrorist_attack_minus_2_tt }
			add_to_variable = { var_preventing_terrorist_attack = 10 tooltip = var_preventing_terrorist_attack_plus_10_tt }
		}
	}
	AGE_finish_the_survivors_1_phase = {
		icon = GFX_decision_eng_trade_unions_support
		available = {
			FROM = {
				is_owned_by = AGE
				has_dynamic_modifier = { modifier = clandestine_cells }
			}
			divisions_in_state = {
				count > 1
				state = FROM
			}			
		}
		visible = {
			FROM = {
				is_owned_by = AGE
				has_dynamic_modifier = { modifier = clandestine_cells }
			}
			has_country_flag = not_their_land_anymore_flag
		}
		target_array = AGE.owned_states
		state_target = yes
		cost = 20
		days_remove = 50
		remove_effect = {
			FROM = {
				remove_dynamic_modifier = { modifier = clandestine_cells }
				add_dynamic_modifier = { modifier = resistance_completely_eradicated }
			}
			army_experience = 5
			add_to_variable = { var_terrorist_attack = -1 tooltip = var_terrorist_attack_minus_1_tt }
			add_to_variable = { var_preventing_terrorist_attack = 5 tooltip = var_preventing_terrorist_attack_plus_5_tt }			
			custom_effect_tooltip = AGE_modify_baltic_separatism_ns_intro
			add_to_variable = { AGE_baltic_separatism_political_power_factor = 0.04 tooltip = political_power_factor_tt }
			add_to_variable = { AGE_baltic_separatism_monthly_population = 0.05 tooltip = monthly_population_tt }
			add_to_variable = { AGE_baltic_separatism_conscription_factor = 0.04 tooltip = conscription_factor_tt }
			add_to_variable = { AGE_baltic_separatism_consumer_goods_factor = -0.03 tooltip = consumer_goods_factor_tt }
			add_to_variable = { AGE_baltic_separatism_stability_factor = 0.12 tooltip = stability_factor_tt }
			add_to_variable = { AGE_baltic_separatism_industry_free_repair_factor = 0.15 tooltip = industry_free_repair_factor_tt }
			AGE = { country_event = { id = AGE_clandestine_cells.1 } }
		}
	}
	AGE_conduct_full_scale_raid_2_phase = {
		icon = GFX_decision_eng_trade_unions_support
		available = {
			FROM = {
				OR = {
					is_owned_by = CHU
					is_owned_by = HAR
					is_owned_by = BLZ
				}
				has_dynamic_modifier = { modifier = open_opposition }
			}
			divisions_in_state = {
				count > 1
				state = FROM
			}			
		}
		visible = {
			FROM = {
				OR = {
					is_owned_by = CHU
					is_owned_by = HAR
					is_owned_by = BLZ
				}
				has_dynamic_modifier = { modifier = open_opposition }
			}
			AGE = { has_focus_tree = AGE_phase_2 }
			has_country_flag = not_their_land_anymore_flag
		}
		OR = {
			target_array = CHU.owned_states
			target_array = HAR.owned_states
			target_array = BLZ.owned_states
		}
		state_target = yes
		cost = 30
		days_remove = 30
		remove_effect = {
			FROM = {
				remove_dynamic_modifier = { modifier = open_opposition }
				add_dynamic_modifier = { modifier = clandestine_cells }
			}
			army_experience = 5
			add_to_variable = { var_terrorist_attack = -2 tooltip = var_terrorist_attack_minus_2_tt }
			add_to_variable = { var_preventing_terrorist_attack = 10 tooltip = var_preventing_terrorist_attack_plus_10_tt }
		}
	}
	AGE_finish_the_survivors_2_phase = {
		icon = GFX_decision_eng_trade_unions_support
		available = {
			FROM = {
				OR = {
					is_owned_by = CHU
					is_owned_by = HAR
					is_owned_by = BLZ
				}
				has_dynamic_modifier = { modifier = clandestine_cells }
			}
			divisions_in_state = {
				count > 1
				state = FROM
			}
		}
		visible = {
			FROM = {
				OR = {
					is_owned_by = CHU
					is_owned_by = HAR
					is_owned_by = BLZ
				}
				has_dynamic_modifier = { modifier = clandestine_cells }
			}
			AGE = { has_focus_tree = AGE_phase_2 }
			has_country_flag = not_their_land_anymore_flag
		}
		OR = {
			target_array = CHU.owned_states
			target_array = HAR.owned_states
			target_array = BLZ.owned_states
		}
		state_target = yes
		cost = 15
		days_remove = 50
		remove_effect = {
			FROM = {
				remove_dynamic_modifier = { modifier = clandestine_cells }
				add_dynamic_modifier = { modifier = resistance_completely_eradicated }
			}
			army_experience = 5
			add_to_variable = { var_terrorist_attack = -1 tooltip = var_terrorist_attack_minus_1_tt }
			add_to_variable = { var_preventing_terrorist_attack = 5 tooltip = var_preventing_terrorist_attack_plus_5_tt }
			custom_effect_tooltip = AGE_modify_baltic_separatism_ns_intro
			add_to_variable = { AGE_baltic_separatism_political_power_factor = 0.04 tooltip = political_power_factor_tt }
			add_to_variable = { AGE_baltic_separatism_monthly_population = 0.05 tooltip = monthly_population_tt }
			add_to_variable = { AGE_baltic_separatism_conscription_factor = 0.04 tooltip = conscription_factor_tt }
			add_to_variable = { AGE_baltic_separatism_consumer_goods_factor = -0.03 tooltip = consumer_goods_factor_tt }
			add_to_variable = { AGE_baltic_separatism_stability_factor = 0.12 tooltip = stability_factor_tt }
			add_to_variable = { AGE_baltic_separatism_industry_free_repair_factor = 0.15 tooltip = industry_free_repair_factor_tt }
			AGE = { country_event = { id = AGE_clandestine_cells.1 } }
		}
	}
	AGE_red_sabres_equip_guns = {
		icon = GFX_decision_eng_trade_unions_support
		visible = {
			OR = {
				has_idea = AGE_red_sabres
				has_idea = AGE_red_sabres_second
			}		
			has_focus_tree = AGE_phase_1
		}
		available = {
			has_equipment = {
				infantry_equipment > 249
			}			
		}		
		complete_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment 
				amount = -250
			}
			add_to_variable = { var_terrorist_attack = -2 tooltip = var_terrorist_attack_minus_2_tt }
			add_to_variable = { var_preventing_terrorist_attack = 10 tooltip = var_preventing_terrorist_attack_plus_10_tt }			
		}	
	}
	AGE_red_sabres_specialization_1_phase = {
		icon = GFX_decision_eng_trade_unions_support
		visible = {
			OR = {
				has_idea = AGE_red_sabres
				has_idea = AGE_red_sabres_second
			}		
			has_focus_tree = AGE_phase_1
		}
		cost = 50
		complete_effect = {
			if = {
				limit = { has_idea = AGE_red_sabres }
				swap_ideas = {
					remove_idea = AGE_red_sabres
					add_idea = AGE_red_sabres_second
				}
			}
			else = {
				#limit = { has_idea = AGE_red_sabres_second }
				swap_ideas = {
					remove_idea = AGE_red_sabres_second
					add_idea = AGE_red_sabres
				}			
			}
		}
	}
	AGE_red_sabres_specialization_2_phase = {
		icon = GFX_decision_eng_trade_unions_support
		visible = {
			OR = {
				has_idea = AGE_red_sabres
				has_idea = AGE_red_sabres_second
			}
			has_focus_tree = AGE_phase_2
		}
		cost = 100
		complete_effect = {
			if = {
				limit = { has_idea = AGE_red_sabres }
				swap_ideas = {
					remove_idea = AGE_red_sabres
					add_idea = AGE_red_sabres_second
				}
			}
			else = {
				#limit = { has_idea = AGE_red_sabres_second }
				swap_ideas = {
					remove_idea = AGE_red_sabres_second
					add_idea = AGE_red_sabres
				}			
			}
		}
	}
	AGE_baltic_terror = {
		icon = GFX_decision_eng_trade_unions_support
		#activation = { has_country_flag = baltic_terror_activation }
		available = { 
			any_owned_state = {
				NOT = { 
					OR = {
						has_dynamic_modifier = { modifier = open_opposition }
						has_dynamic_modifier = { modifier = clandestine_cells }
					}
				}
			}
			hidden_trigger = { NOT = { has_country_flag = baltic_terror_activation } }
		}
		days_mission_timeout = 60	
		is_good = yes
		complete_effect = { clr_country_flag = baltic_terror_activation }
		timeout_effect = {
			random_list = {
				var_terrorist_attack = {
					random_owned_state = {
						limit = { NOT = { has_dynamic_modifier = { modifier = resistance_completely_eradicated } } }
						damage_building = {
							type = industrial_complex
							damage = 1
						}
						AGE = { country_event = { id = AGE_baltic_terror.1 } }
					}
				}
				var_terrorist_attack = {
					random_owned_state = {
						limit = { NOT = { has_dynamic_modifier = { modifier = resistance_completely_eradicated } } }
						damage_building = {
							type = arms_factory
							damage = 1
						}
						AGE = { country_event = { id = AGE_baltic_terror.2 } }
					}
				}
				var_terrorist_attack = {
					random_owned_state = {
						limit = { NOT = { has_dynamic_modifier = { modifier = resistance_completely_eradicated } } }
						damage_building = {
							type = infrastructure
							damage = 1
						}
						AGE = { country_event = { id = AGE_baltic_terror.3 } }
					}
				}
				var_terrorist_attack = {
					random_owned_state = {
						limit = { NOT = { has_dynamic_modifier = { modifier = resistance_completely_eradicated } } }
						damage_building = {
							type = supply_node
							damage = 1
						}
						AGE = { country_event = { id = AGE_baltic_terror.4 } }
					}
				}
				var_terrorist_attack = {
					random_owned_state = {
						limit = { NOT = { has_dynamic_modifier = { modifier = resistance_completely_eradicated } } }
						damage_building = {
							type = air_base
							damage = 1
						}
						AGE = { country_event = { id = AGE_baltic_terror.5 } }
					}
				}
				var_preventing_terrorist_attack = {
					AGE = { country_event = { id = AGE_baltic_terror.6 } }
				}				
			}
			add_to_variable = { count_days_baltic_terror = 1 }
		}	
	}
	AGE_baltics_are_probing = {
		icon = GFX_decision_eng_trade_unions_support
		activation = { has_country_flag = still_their_land_flag }
		available = { 
			any_owned_state = {
				NOT = { 
					OR = {
						has_dynamic_modifier = { modifier = open_opposition }
						has_dynamic_modifier = { modifier = clandestine_cells }
					}
				}
			}
			hidden_trigger = { NOT = { has_country_flag = still_their_land_flag } }
		}
		days_mission_timeout = 45	
		is_good = yes
		complete_effect = { clr_country_flag = still_their_land_flag }
		timeout_effect = {
			add_to_variable = { var_terrorist_attack = -2 tooltip = var_terrorist_attack_minus_2_tt }
			add_to_variable = { var_preventing_terrorist_attack = 10 tooltip = var_preventing_terrorist_attack_plus_10_tt }		
			custom_effect_tooltip = AGE_modify_baltic_separatism_ns_intro
			add_to_variable = { AGE_baltic_separatism_political_power_factor = 0.04 tooltip = political_power_factor_tt }
			add_to_variable = { AGE_baltic_separatism_monthly_population = 0.05 tooltip = monthly_population_tt }
			add_to_variable = { AGE_baltic_separatism_conscription_factor = 0.04 tooltip = conscription_factor_tt }
			add_to_variable = { AGE_baltic_separatism_consumer_goods_factor = -0.03 tooltip = consumer_goods_factor_tt }
			add_to_variable = { AGE_baltic_separatism_stability_factor = 0.12 tooltip = stability_factor_tt }
			add_to_variable = { AGE_baltic_separatism_industry_free_repair_factor = 0.15 tooltip = industry_free_repair_factor_tt }
			hidden_effect = {
				random_list = {
					20 = { add_to_variable = { var_808 = 1 } }
					20 = { add_to_variable = { var_809 = 1 } }
					20 = { add_to_variable = { var_12 = 1 } }
					20 = { add_to_variable = { var_13 = 1 } }
					20 = { add_to_variable = { var_911 = 1 } }
				}
				if = {
					limit = { 
						var_808 = 3
						808 = { has_dynamic_modifier = { modifier = open_opposition } }
					}
					set_variable = { var_808 = 0 }
					808 = {
						remove_dynamic_modifier = { modifier = open_opposition }
						add_dynamic_modifier = { modifier = clandestine_cells }
					}
					AGE = { country_event = { id = AGE_baltics_are_probing.1 } }
				}
				else_if = {
					limit = { 
						var_809 = 3
						809 = { has_dynamic_modifier = { modifier = open_opposition } }
					}
					set_variable = { var_809 = 0 }
					809 = {
						remove_dynamic_modifier = { modifier = open_opposition }
						add_dynamic_modifier = { modifier = clandestine_cells }
					}
					AGE = { country_event = { id = AGE_baltics_are_probing.1 } }
				}
				else_if = {
					limit = { 
						var_12 = 3
						12 = { has_dynamic_modifier = { modifier = open_opposition } }
					}
					set_variable = { var_12 = 0 }
					12 = {
						remove_dynamic_modifier = { modifier = open_opposition }
						add_dynamic_modifier = { modifier = clandestine_cells }
					}
					AGE = { country_event = { id = AGE_baltics_are_probing.1 } }
				}
				else_if = {
					limit = { 
						var_13 = 3
						13 = { has_dynamic_modifier = { modifier = open_opposition } }
					}
					set_variable = { var_13 = 0 }
					13 = {
						remove_dynamic_modifier = { modifier = open_opposition }
						add_dynamic_modifier = { modifier = clandestine_cells }
					}
					AGE = { country_event = { id = AGE_baltics_are_probing.1 } }
				}
				else = {
					limit = { 
						var_911 = 3
						911 = { has_dynamic_modifier = { modifier = open_opposition } }
					}
					set_variable = { var_911 = 0 }
					911 = {
						remove_dynamic_modifier = { modifier = open_opposition }
						add_dynamic_modifier = { modifier = clandestine_cells }
					}
					AGE = { country_event = { id = AGE_baltics_are_probing.1 } }
				}
			}
		}
	}
	AGE_war_with_baltosphere = {
		icon = GFX_decision_eng_trade_unions_support
		activation = { has_country_flag = war_with_baltosphere_flag }
		available = { NOT = { has_country_flag = war_with_baltosphere_flag } }
		days_mission_timeout = 7
		is_good = yes
		timeout_effect = {
			clr_country_flag = war_with_baltosphere_flag
			AGE = { country_event = { id = AGE.9 } }
			BLT = {
				declare_war_on = {
					target = AGE
					type = annex_everything
				}
			}
		}
	}
}