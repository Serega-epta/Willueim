@base_reward_weight = 2 #Base Reward weight value
@reward_weight_factor_theme = 0.25 # Applied to factor - Used to reduce chances of repeating the same reward theme within the same project (ie. Failure 1 & Failure 2)
@scientist_max_lvl = 5
@scientist_lvl_border = 4 #should be = scientist_max_lvl - 1

#Low Scientist XP gain
sp_land_generic_reward_scientist_xp_1 = {
	fire_only_once = no
	threshold = {
		min = 0
		max = 100
	}
	weight = {
		base = @base_reward_weight
		modifier = {
			factor = @reward_weight_factor_theme
			has_project_flag = sp_land_generic_reward_scientist_xp_flag
		}
		modifier = {
			factor = 0
			var:scientist = {
				has_scientist_level = {
					level > @scientist_lvl_border
					specialization = specialization_land
				}
			}
		}
	}
	option = {
		token = sp_land_generic_reward_option_scientist_xp
		iteration_output = {
			scientist_effects = {
				if = {
					limit = {
						has_scientist_level = {
							level < @scientist_max_lvl
							specialization = specialization_land
						}
					}
					add_scientist_xp = {
						experience = constant:sp_scientist_xp_gain.low
						specialization = specialization_land
					}
				}
				FROM = {
					set_project_flag = sp_land_generic_reward_scientist_xp_flag 
				}
			}
		}
	}
}
#Medium Scientist XP gain
sp_land_generic_reward_scientist_xp_2 = {
	fire_only_once = no
	threshold = {
		min = 0
		max = 100
	}
	weight = {
		base = @base_reward_weight
		modifier = {
			factor = @reward_weight_factor_theme
			has_project_flag = sp_land_generic_reward_scientist_xp_flag
		}
		modifier = {
			factor = 0
			var:scientist = {
				has_scientist_level = {
					level > @scientist_lvl_border
					specialization = specialization_land
				}
			}
		}
	}
	option = {
		token = sp_land_generic_reward_option_scientist_xp
		iteration_output = {
			scientist_effects = {
				if = {
					limit = {
						has_scientist_level = {
							level < @scientist_max_lvl
							specialization = specialization_land
						}
					}
					add_scientist_xp = {
						experience = constant:sp_scientist_xp_gain.medium
						specialization = specialization_land
					}
				}
				FROM = {
					set_project_flag = sp_land_generic_reward_scientist_xp_flag 
				}
			}
		}
	}
}
#High Scientist XP gain
sp_land_generic_reward_scientist_xp_3 = {
	fire_only_once = no
	threshold = {
		min = 0
		max = 100
	}
	weight = {
		base = @base_reward_weight
		modifier = {
			factor = @reward_weight_factor_theme
			has_project_flag = sp_land_generic_reward_scientist_xp_flag
		}
		modifier = {
			factor = 0
			var:scientist = {
				has_scientist_level = {
					level > @scientist_lvl_border
					specialization = specialization_land
				}
			}
		}
	}
	option = {
		token = sp_land_generic_reward_option_scientist_xp
		iteration_output = {
			scientist_effects = {
				if = {
					limit = {
						has_scientist_level = {
							level < @scientist_max_lvl
							specialization = specialization_land
						}
					}
					add_scientist_xp = {
						experience = constant:sp_scientist_xp_gain.high
						specialization = specialization_land
					}
				}
				FROM = {
					set_project_flag = sp_land_generic_reward_scientist_xp_flag 
				}
			}
		}
	}
}
#Low Extra Progress
sp_land_generic_reward_major_progress_1 = {
	fire_only_once = no
	threshold = {
		min = 0
		max = 100
	}
	weight = {
		base = @base_reward_weight
		modifier = {
			factor = @reward_weight_factor_theme
			has_project_flag = sp_land_generic_reward_major_progress_flag
		}
	}
	option = {
		token = sp_land_generic_reward_option_major_breakthrough
		iteration_output = {
			country_effects = {
				FROM = {
					add_project_progress_ratio = constant:sp_progress.gain.low				
					set_project_flag = sp_land_generic_reward_major_progress_flag
				}
			}
			scientist_effects = {
				if = {
					limit = {
						has_scientist_level = {
							level < @scientist_max_lvl
							specialization = specialization_land
						}
					}
					add_scientist_xp = {
						experience = constant:sp_scientist_xp_gain.low
						specialization = specialization_land
					}
				}
			}
		}
	}
}
#Medium Extra Progress
sp_land_generic_reward_major_progress_2 = {
	fire_only_once = no
	threshold = {
		min = 0
		max = 100
	}
	weight = {
		base = @base_reward_weight
		modifier = {
			factor = @reward_weight_factor_theme
			has_project_flag = sp_land_generic_reward_major_progress_flag
		}
	}
	option = {
		token = sp_land_generic_reward_option_major_breakthrough
		iteration_output = {
			country_effects = {
				FROM = {
					add_project_progress_ratio = constant:sp_progress.gain.medium
					set_project_flag = sp_land_generic_reward_major_progress_flag
				}
			}
			scientist_effects = {
				if = {
					limit = {
						has_scientist_level = {
							level < @scientist_max_lvl
							specialization = specialization_land
						}
					}
					add_scientist_xp = {
						experience = constant:sp_scientist_xp_gain.low
						specialization = specialization_land
					}
				}
			}
		}
	}
}
#High Extra Progress
sp_land_generic_reward_major_progress_3 = {
	fire_only_once = no
	threshold = {
		min = 0
		max = 100
	}
	weight = {
		base = @base_reward_weight
		modifier = {
			factor = @reward_weight_factor_theme
			has_project_flag = sp_land_generic_reward_major_progress_flag
		}
	}
	option = {
		token = sp_land_generic_reward_option_major_breakthrough
		iteration_output = {
			country_effects = {
				FROM = {
					add_project_progress_ratio = constant:sp_progress.gain.high
					set_project_flag = sp_land_generic_reward_major_progress_flag
				}
			}
			scientist_effects = {
				if = {
					limit = {
						has_scientist_level = {
							level < @scientist_max_lvl
							specialization = specialization_land
						}
					}
					add_scientist_xp = {
						experience = constant:sp_scientist_xp_gain.low
						specialization = specialization_land
					}
				}
			}
		}
	}
}
#Low Progress Loss
sp_land_generic_reward_test_failure_1 = {
	fire_only_once = no
	threshold = {
		min = 15 #Loss is 5
		max = 100
	}
	weight = {
		base = @base_reward_weight
		modifier = {
			factor = @reward_weight_factor_theme
			has_project_flag = sp_land_generic_reward_test_failure_flag
		}
	}
	option = {
		token = sp_land_generic_reward_option_test_failure
		iteration_output = {
			country_effects = { 
				FROM = {
					add_project_progress_ratio = constant:sp_progress.loss.low
					set_project_flag = sp_land_generic_reward_test_failure_flag
				}
			}
			scientist_effects = {
				if = {
					limit = {
						has_scientist_level = {
							level < @scientist_max_lvl
							specialization = specialization_land
						}
					}
					add_scientist_xp = {
						experience = constant:sp_scientist_xp_gain.low
						specialization = specialization_land
					}
				}
			}
		}
	}
}
#Medium Progress Loss
sp_land_generic_reward_test_failure_2 = {
	fire_only_once = no
	threshold = {
		min = 15 #Loss is 5
		max = 100
	}
	weight = {
		base = @base_reward_weight
		modifier = {
			factor = @reward_weight_factor_theme
			has_project_flag = sp_land_generic_reward_test_failure_flag
		}
	}
	option = {
		token = sp_land_generic_reward_option_test_failure
		iteration_output = {
			country_effects = { 
				FROM = {
					add_project_progress_ratio = constant:sp_progress.loss.medium
					set_project_flag = sp_land_generic_reward_test_failure_flag
				}
			}
			scientist_effects = {
				if = {
					limit = {
						has_scientist_level = {
							level < @scientist_max_lvl
							specialization = specialization_land
						}
					}
					add_scientist_xp = {
						experience = constant:sp_scientist_xp_gain.low
						specialization = specialization_land
					}
				}
			}
		}
	}
}
#High Progress Loss
sp_land_generic_reward_test_failure_3 = {
	fire_only_once = no
	threshold = {
		min = 15 #Loss is 5
		max = 100
	}
	weight = {
		base = @base_reward_weight
		modifier = {
			factor = @reward_weight_factor_theme
			has_project_flag = sp_land_generic_reward_test_failure_flag
		}
	}
	option = {
		token = sp_land_generic_reward_option_test_failure
		iteration_output = {
			country_effects = { 
				FROM = {
					add_project_progress_ratio = constant:sp_progress.loss.high
					set_project_flag = sp_land_generic_reward_test_failure_flag
				}
			}
			scientist_effects = {
				if = {
					limit = {
						has_scientist_level = {
							level < @scientist_max_lvl
							specialization = specialization_land
						}
					}
					add_scientist_xp = {
						experience = constant:sp_scientist_xp_gain.low
						specialization = specialization_land
					}
				}
			}
		}
	}
}