scripted_gui = {
	government_manager_handler = {
		context_type = player_context
		parent_window_token = politics_tab
		window_name = "government_manager_handler"
		effects = {
			government_manager_toggle_click = {
				if = {
					limit = {
						NOT = { has_variable = gos_usroistvo }
					} 
					set_variable = {
						gos_usroistvo = 0 
					}
				}
			}
			laws_toggle_click = {
				if = {
					limit = {
						has_variable = gos_usroistvo
					} 
					clear_variable = gos_usroistvo
				}
			}
		}
	}
	Okno_gosustroistva = {
		context_type = player_context
		parent_window_token = politics_tab
		window_name = "government_manager_container"
		visible = {
			has_variable = gos_usroistvo
		}	
		triggers = {		
			BUTTON_Open_okno_military_system_click_enabled = {
				OR = {
					check_variable = { selected_government_system = 1 }
					check_variable = { selected_government_system = 0 }
				}
			}
			BUTTON_Open_okno_civil_system_click_enabled = {
				OR = {
					check_variable = { selected_government_system = 2 }
					check_variable = { selected_government_system = 0 }
				}
			}
			BUTTON_Open_okno_ststegos_system_click_enabled = {
				OR = {
					check_variable = { selected_government_system = 3 }
					check_variable = { selected_government_system = 0 }
				}
			}
		}
		effects = {	
			BUTTON_Open_okno_military_system_click = {	
				if = {
					limit = { 
						check_variable = {
							gos_usroistvo = 1 
						}
					}
					set_variable = { 
						gos_usroistvo = 0
					}
				}
				else = {
					set_variable = {
						gos_usroistvo = 1 
					}
				}	
			}			
			BUTTON_Open_okno_civil_system_click = {	
				if = {
					limit = { 
						check_variable = { 
							gos_usroistvo = 2 
						}
					}
					set_variable = { 
						gos_usroistvo = 0
					}
				}
				else = {
					set_variable = {
						gos_usroistvo = 2 
					}
				}	
			}	
			BUTTON_Open_okno_ststegos_system_click = {	
				if = {
					limit = { 
						check_variable = { 
							gos_usroistvo = 3 
						}
					}
					set_variable = { 
						gos_usroistvo = 0
					}
				}
				else = {
					set_variable = {
						gos_usroistvo = 3 
					}
				}	
			}				
		}
	}
	#vars: reform_points
	menshikov_system_tree = {
		context_type = player_context
		parent_window_token = politics_tab
		window_name = "menshikov_system_outer_handler"
		visible = {
			check_variable = { 
				gos_usroistvo = 1 
			}
		}		
		triggers = {
			select_model_button_visible = {
				NOT = {
					check_variable = {
						selected_government_system = 1
					}
				}
			}
			select_model_button_click_enabled = {
				set_temp_variable = {
					reform_points_for_upgrade = 20
				}
				goverment_system_can_be_upgraded = yes
			}
			materials_science_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = materials_science_idea
						}
						check_variable = {
							selected_government_system = 1
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 15
					}
					goverment_system_can_be_upgraded = yes
					NOT = {
						has_idea = dense_layout_idea
					}
				}
			}
			dense_layout_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = dense_layout_idea
						}
						check_variable = {
							selected_government_system = 1
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 20
					}
					goverment_system_can_be_upgraded = yes
					NOT = {
						has_idea = materials_science_idea
					}
				}
			}
			lower_streams_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = lower_streams_idea
						}
						check_variable = {
							selected_government_system = 1
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 20
					}
					goverment_system_can_be_upgraded = yes
					has_idea = materials_science_idea
				}
			}
			upper_streams_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = upper_streams_idea
						}
						check_variable = {
							selected_government_system = 1
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 20
					}
					goverment_system_can_be_upgraded = yes
					has_idea = dense_layout_idea
				}
			}
			our_future_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = our_future_idea
						}
						check_variable = {
							selected_government_system = 1
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 20
					}
					goverment_system_can_be_upgraded = yes
					OR = {
						has_idea = lower_streams_idea
						has_idea = upper_streams_idea
					}
				}
			}
			vocational_technical_schools_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = vocational_technical_schools_idea
						}
						check_variable = {
							selected_government_system = 1
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 20
					}
					goverment_system_can_be_upgraded = yes
					has_idea = our_future_idea
					NOT = {
						has_idea = working_faculties_idea
					}
				}
			}
			working_faculties_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = working_faculties_idea
						}
						check_variable = {
							selected_government_system = 1
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 20
					}
					goverment_system_can_be_upgraded = yes
					has_idea = our_future_idea
					NOT = {
						has_idea = vocational_technical_schools_idea
					}
				}
			}
			labor_veterans_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = labor_veterans_idea
						}
						check_variable = {
							selected_government_system = 1
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 20
					}
					goverment_system_can_be_upgraded = yes
					has_idea = vocational_technical_schools_idea
				}
			}
			labor_heros_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = labor_heros_idea
						}
						check_variable = {
							selected_government_system = 1
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 20
					}
					goverment_system_can_be_upgraded = yes
					has_idea = working_faculties_idea
				}
			}
			industrial_cooperation_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = industrial_cooperation_idea
						}
						check_variable = {
							selected_government_system = 1
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 30
					}
					goverment_system_can_be_upgraded = yes
					OR = {
						has_idea = vocational_technical_schools_idea
						has_idea = working_faculties_idea
					}
				}
			}
			constructed_for_life_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = constructed_for_life_idea
						}
						check_variable = {
							selected_government_system = 1
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 30
					}
					goverment_system_can_be_upgraded = yes
					has_idea = industrial_cooperation_idea
				}
			}
			love_thy_neighbour_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = love_thy_neighbour_idea
						}
						check_variable = {
							selected_government_system = 1
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 30
					}
					goverment_system_can_be_upgraded = yes
					has_idea = industrial_cooperation_idea
				}
			}
			local_wing_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = local_wing_idea
						}
						check_variable = {
							selected_government_system = 1
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 30
					}
					goverment_system_can_be_upgraded = yes
					has_idea = industrial_cooperation_idea
					any_controlled_state = {
						is_owned_by = ROOT
					}
				}
			}
			strict_regulations_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = strict_regulations_idea
						}
						check_variable = {
							selected_government_system = 1
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 30
					}
					goverment_system_can_be_upgraded = yes
					has_idea = constructed_for_life_idea
					has_idea = industrial_cooperation_idea
					has_idea = local_wing_idea
					NOT = {
						has_idea = flexible_regulations_idea
					}
				}
			}
			flexible_regulations_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = flexible_regulations_idea
						}
						check_variable = {
							selected_government_system = 1
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 30
					}
					goverment_system_can_be_upgraded = yes
					has_idea = constructed_for_life_idea
					has_idea = industrial_cooperation_idea
					has_idea = local_wing_idea
					NOT = {
						has_idea = strict_regulations_idea
					}
				}
			}
			gardening_partnerships_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = gardening_partnerships_idea
						}
						check_variable = {
							selected_government_system = 1
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 30
					}
					goverment_system_can_be_upgraded = yes
					OR = {
						has_idea = flexible_regulations_idea
						has_idea = strict_regulations_idea
					}
					NOT = {
						has_idea = rural_units_idea
					}
				}
			}
			rural_units_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = rural_units_idea
						}
						check_variable = {
							selected_government_system = 1
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 45
					}
					goverment_system_can_be_upgraded = yes
					OR = {
						has_idea = flexible_regulations_idea
						has_idea = strict_regulations_idea
					}
					NOT = {
						has_idea = gardening_partnerships_idea
					}
					any_controlled_state = {
						is_owned_by = ROOT
					}
				}
			}
			adversarial_law_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = adversarial_law_idea
						}
						check_variable = {
							selected_government_system = 1
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 30
					}
					goverment_system_can_be_upgraded = yes
					OR = {
						has_idea = gardening_partnerships_idea
						has_idea = rural_units_idea
					}
					NOT = {
						has_idea = fair_competition_codex_idea
					}
				}
			}
			fair_competition_codex_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = fair_competition_codex_idea
						}
						check_variable = {
							selected_government_system = 1
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 30
					}
					goverment_system_can_be_upgraded = yes
					OR = {
						has_idea = gardening_partnerships_idea
						has_idea = rural_units_idea
					}
					NOT = {
						has_idea = adversarial_law_idea
					}
				}
			}
			outsourcing_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = outsourcing_idea
						}
						check_variable = {
							selected_government_system = 1
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 30
					}
					goverment_system_can_be_upgraded = yes
					OR = {
						has_idea = adversarial_law_idea
						has_idea = fair_competition_codex_idea
					}
				}
			}
			trade_initiative_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = trade_initiative_idea
						}
						check_variable = {
							selected_government_system = 1
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 45
					}
					goverment_system_can_be_upgraded = yes
					has_idea = outsourcing_idea
				}
			}
			GOST_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = GOST_idea
						}
						check_variable = {
							selected_government_system = 1
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 60
					}
					goverment_system_can_be_upgraded = yes
					has_idea = outsourcing_idea
				}
			}
			fullstack_consumtion_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = fullstack_consumtion_idea
						}
						check_variable = {
							selected_government_system = 1
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 60
					}
					goverment_system_can_be_upgraded = yes
					has_idea = outsourcing_idea
				}
			}
			humanism_stronghold_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = humanism_stronghold_idea
						}
						check_variable = {
							selected_government_system = 1
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 90
					}
					goverment_system_can_be_upgraded = yes
					has_idea = trade_initiative_idea
					has_idea = GOST_idea
					has_idea = fullstack_consumtion_idea
				}
			}
			materials_science_overlay_visible = {
				check_variable = {
					selected_government_system = 1
				}
				NOT = {
					has_idea = materials_science_idea
					has_idea = dense_layout_idea
				}
			}
			dense_layout_overlay_visible = {
				check_variable = {
					selected_government_system = 1
				}
				NOT = {
					has_idea = dense_layout_idea
					has_idea = materials_science_idea
				}
			}
			lower_streams_overlay_visible = {
				check_variable = {
					selected_government_system = 1
				}
				NOT = {
					has_idea = lower_streams_idea
				}
				has_idea = materials_science_idea
			}
			upper_streams_overlay_visible = {
				check_variable = {
					selected_government_system = 1
				}
				NOT = {
					has_idea = upper_streams_idea
				}
				has_idea = dense_layout_idea
			}
			our_future_overlay_visible = {
				check_variable = {
					selected_government_system = 1
				}
				NOT = {
					has_idea = our_future_idea
				}
				OR = {
					has_idea = lower_streams_idea
					has_idea = upper_streams_idea
				}
			}
			vocational_technical_schools_overlay_visible = {
				check_variable = {
					selected_government_system = 1
				}
				NOT = {
					has_idea = working_faculties_idea
					has_idea = vocational_technical_schools_idea
				}
				has_idea = our_future_idea
			}
			working_faculties_overlay_visible = {
				check_variable = {
					selected_government_system = 1
				}
				NOT = {
					has_idea = working_faculties_idea
					has_idea = vocational_technical_schools_idea
				}
				has_idea = our_future_idea
			}
			labor_veterans_overlay_visible = {
				check_variable = {
					selected_government_system = 1
				}
				NOT = {
					has_idea = labor_veterans_idea
				}
				has_idea = vocational_technical_schools_idea
			}
			labor_heros_overlay_visible = {
				check_variable = {
					selected_government_system = 1
				}
				NOT = {
					has_idea = labor_heros_idea
				}
				has_idea = working_faculties_idea
			}
			industrial_cooperation_overlay_visible = {
				check_variable = {
					selected_government_system = 1
				}
				NOT = {
					has_idea = industrial_cooperation_idea
				}
				OR = {
					has_idea = labor_veterans_idea
					has_idea = labor_heros_idea
				}
			}
			constructed_for_life_overlay_visible = {
				check_variable = {
					selected_government_system = 1
				}
				NOT = {
					has_idea = constructed_for_life_idea
				}
				has_idea = industrial_cooperation_idea
			}
			love_thy_neighbour_overlay_visible = {
				check_variable = {
					selected_government_system = 1
				}
				NOT = {
					has_idea = love_thy_neighbour_idea
				}
				has_idea = industrial_cooperation_idea
			}
			local_wing_overlay_visible = {
				check_variable = {
					selected_government_system = 1
				}
				NOT = {
					has_idea = local_wing_idea
				}
				has_idea = industrial_cooperation_idea
			}
			strict_regulations_overlay_visible = {
				check_variable = {
					selected_government_system = 1
				}
				NOT = {
					has_idea = strict_regulations_idea
					has_idea = flexible_regulations_idea
				}
				has_idea = constructed_for_life_idea
				has_idea = industrial_cooperation_idea
				has_idea = local_wing_idea
			}
			flexible_regulations_overlay_visible = {
				check_variable = {
					selected_government_system = 1
				}
				NOT = {
					has_idea = strict_regulations_idea
					has_idea = flexible_regulations_idea
				}
				has_idea = constructed_for_life_idea
				has_idea = industrial_cooperation_idea
				has_idea = local_wing_idea
			}
			gardening_partnerships_overlay_visible = {
				check_variable = {
					selected_government_system = 1
				}
				NOT = {
					has_idea = gardening_partnerships_idea
					has_idea = rural_units_idea
				}
				OR = {
					has_idea = strict_regulations_idea
					has_idea = flexible_regulations_idea
				}
			}
			rural_units_overlay_visible = {
				check_variable = {
					selected_government_system = 1
				}
				NOT = {
					has_idea = rural_units_idea
					has_idea = gardening_partnerships_idea
				}
				OR = {
					has_idea = strict_regulations_idea
					has_idea = flexible_regulations_idea
				}
			}
			adversarial_law_overlay_visible = {
				check_variable = {
					selected_government_system = 1
				}
				NOT = {
					has_idea = adversarial_law_idea
					has_idea = fair_competition_codex_idea
				}
				OR = {
					has_idea = rural_units_idea
					has_idea = gardening_partnerships_idea
				}
			}
			fair_competition_codex_overlay_visible = {
				check_variable = {
					selected_government_system = 1
				}
				NOT = {
					has_idea = adversarial_law_idea
					has_idea = fair_competition_codex_idea
				}
				OR = {
					has_idea = rural_units_idea
					has_idea = gardening_partnerships_idea
				}
			}
			outsourcing_overlay_visible = {
				check_variable = {
					selected_government_system = 1
				}
				NOT = {
					has_idea = outsourcing_idea
				}
				OR = {
					has_idea = adversarial_law_idea
					has_idea = fair_competition_codex_idea
				}
			}
			trade_initiative_overlay_visible = {
				check_variable = {
					selected_government_system = 1
				}
				NOT = {
					has_idea = trade_initiative_idea
				}
				has_idea = outsourcing_idea
			}
			GOST_overlay_visible = {
				check_variable = {
					selected_government_system = 1
				}
				NOT = {
					has_idea = GOST_idea
				}
				has_idea = outsourcing_idea
			}
			fullstack_consumtion_overlay_visible = {
				check_variable = {
					selected_government_system = 1
				}
				NOT = {
					has_idea = fullstack_consumtion_idea
				}
				has_idea = outsourcing_idea
			}
			humanism_stronghold_overlay_visible = {
				check_variable = {
					selected_government_system = 1
				}
				NOT = {
					has_idea = humanism_stronghold_idea
				}
				has_idea = trade_initiative_idea
				has_idea = GOST_idea
				has_idea = fullstack_consumtion_idea
			}
		}
		effects = {		
			select_model_button_click = {
				select_menshikov_system = yes 
			}
			close_button_click = {
				set_variable = {
					gos_usroistvo = 0
				}
			}
			materials_science_button_click = {
				materials_science_effect = yes
			}
			dense_layout_button_click = {
				dense_layout_effect = yes
			}
			lower_streams_button_click = {
				lower_streams_effect = yes
			}
			upper_streams_button_click = {
				upper_streams_effect = yes
			}
			our_future_button_click = {
				our_future_effect = yes
			}
			vocational_technical_schools_button_click = {
				vocational_technical_schools_effect = yes
			}
			working_faculties_button_click = {
				working_faculties_effect = yes
			}
			labor_veterans_button_click = {
				labor_veterans_effect = yes
			}
			labor_heros_button_click = {
				labor_heros_effect = yes
			}
			industrial_cooperation_button_click = {
				industrial_cooperation_effect = yes
			}
			constructed_for_life_button_click = {
				constructed_for_life_effect = yes
			}
			love_thy_neighbour_button_click = {
				love_thy_neighbour_effect = yes
			}
			local_wing_button_click = {
				local_wing_effect = yes
			}
			strict_regulations_button_click = {
				strict_regulations_effect = yes
			}
			flexible_regulations_button_click = {
				flexible_regulations_effect = yes
			}
			gardening_partnerships_button_click = {
				gardening_partnerships_effect = yes
			}
			rural_units_button_click = {
				rural_units_effect = yes
			}
			adversarial_law_button_click = {
				adversarial_law_effect = yes
			}
			fair_competition_codex_button_click = {
				fair_competition_codex_effect = yes
			}
			outsourcing_button_click = {
				outsourcing_effect = yes
			}
			trade_initiative_button_click = {
				trade_initiative_effect = yes
			}
			GOST_button_click = {
				GOST_effect = yes
			}
			fullstack_consumtion_button_click = {
				fullstack_consumtion_effect = yes
			}
			humanism_stronghold_button_click = {
				humanism_stronghold_effect = yes
			}
		}
	}
	smoilov_system_tree = {
		context_type = player_context
		parent_window_token = politics_tab
		window_name = "smoilov_system_outer_handler"
		visible = {
			check_variable = { 
				gos_usroistvo = 2 
			}
		}		
		triggers = {
			select_model_button_visible = {
				NOT = {
					check_variable = {
						selected_government_system = 2
					}
				}
			}
			select_model_button_click_enabled = {
				set_temp_variable = {
					reform_points_for_upgrade = 20
				}
				goverment_system_can_be_upgraded = yes
			}
			foundation_of_the_past_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = foundation_of_the_past_idea
						}
						check_variable = {
							selected_government_system = 2
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 15
					}
					goverment_system_can_be_upgraded = yes
				}
			}
			behind_the_scenes_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = behind_the_scenes_idea
						}
						check_variable = {
							selected_government_system = 2
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 15
					}
					goverment_system_can_be_upgraded = yes
					has_idea = foundation_of_the_past_idea
				}
			}
			without_any_hassle_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = without_any_hassle_idea
						}
						check_variable = {
							selected_government_system = 2
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 15
					}
					goverment_system_can_be_upgraded = yes
					has_idea = foundation_of_the_past_idea
				}
			}
			our_home_is_our_fortress_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = our_home_is_our_fortress_idea
						}
						check_variable = {
							selected_government_system = 2
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 20
					}
					goverment_system_can_be_upgraded = yes
					has_idea = foundation_of_the_past_idea
				}
			}
			rural_militia_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = rural_militia_idea
						}
						check_variable = {
							selected_government_system = 2
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 40
					}
					goverment_system_can_be_upgraded = yes
					NOT = {
						has_idea = industrial_militia_idea
					}
					has_idea = behind_the_scenes_idea
					has_idea = without_any_hassle_idea
					has_idea = our_home_is_our_fortress_idea
				}
			}
			industrial_militia_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = industrial_militia_idea
						}
						check_variable = {
							selected_government_system = 2
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 40
					}
					goverment_system_can_be_upgraded = yes
					NOT = {
						has_idea = rural_militia_idea
					}
					has_idea = behind_the_scenes_idea
					has_idea = without_any_hassle_idea
					has_idea = our_home_is_our_fortress_idea
				}
			}
			land_river_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = land_river_idea
						}
						check_variable = {
							selected_government_system = 2
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 20
					}
					goverment_system_can_be_upgraded = yes
					has_idea = industrial_militia_idea
				}
			}
			scraping_down_the_bottom_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = scraping_down_the_bottom_idea
						}
						check_variable = {
							selected_government_system = 2
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 20
					}
					goverment_system_can_be_upgraded = yes
					has_idea = rural_militia_idea
				}
			}
			in_a_blink_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = in_a_blink_idea
						}
						check_variable = {
							selected_government_system = 2
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 20
					}
					goverment_system_can_be_upgraded = yes
					OR = {
						has_idea = land_river_idea
						has_idea = scraping_down_the_bottom_idea
					}
				}
			}
			oprichnina_hand_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = oprichnina_hand_idea
						}
						check_variable = {
							selected_government_system = 2
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 30
					}
					goverment_system_can_be_upgraded = yes
					has_idea = in_a_blink_idea
				}
			}
			peripheral_cleansing_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = peripheral_cleansing_idea
						}
						check_variable = {
							selected_government_system = 2
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 40
					}
					goverment_system_can_be_upgraded = yes
					has_idea = in_a_blink_idea
				}
			}
			destroy_anomalies_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = destroy_anomalies_idea
						}
						check_variable = {
							selected_government_system = 2
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 30
					}
					goverment_system_can_be_upgraded = yes
					has_idea = oprichnina_hand_idea
					has_idea = peripheral_cleansing_idea
				}
			}
			fighting_for_families_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = fighting_for_families_idea
						}
						check_variable = {
							selected_government_system = 2
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 30
					}
					goverment_system_can_be_upgraded = yes
					has_idea = destroy_anomalies_idea
				}
			}
			military_loans_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = military_loans_idea
						}
						check_variable = {
							selected_government_system = 2
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 30
					}
					goverment_system_can_be_upgraded = yes
					has_idea = destroy_anomalies_idea
				}
			}
			from_stones_and_sticks_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = from_stones_and_sticks_idea
						}
						check_variable = {
							selected_government_system = 2
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 30
					}
					goverment_system_can_be_upgraded = yes
					has_idea = destroy_anomalies_idea
				}
			}
			autonomius_bataries_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = autonomius_bataries_idea
						}
						check_variable = {
							selected_government_system = 2
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 50
					}
					goverment_system_can_be_upgraded = yes
					NOT = {
						has_idea = controlled_bataries_idea
					}
					has_idea = fighting_for_families_idea
					has_idea = military_loans_idea
					has_idea = from_stones_and_sticks_idea
				}
			}
			controlled_bataries_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = controlled_bataries_idea
						}
						check_variable = {
							selected_government_system = 2
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 50
					}
					goverment_system_can_be_upgraded = yes
					NOT = {
						has_idea = autonomius_bataries_idea
					}
					has_idea = fighting_for_families_idea
					has_idea = military_loans_idea
					has_idea = from_stones_and_sticks_idea
				}
			}
			firstborn_of_sparta_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = firstborn_of_sparta_idea
						}
						check_variable = {
							selected_government_system = 2
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 50
					}
					goverment_system_can_be_upgraded = yes
					OR = {
						has_idea = autonomius_bataries_idea
						has_idea = controlled_bataries_idea
					}
				}
			}
			nerves_to_the_limit_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = nerves_to_the_limit_idea
						}
						check_variable = {
							selected_government_system = 2
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 50
					}
					goverment_system_can_be_upgraded = yes
					has_idea = firstborn_of_sparta_idea
				}
			}
			steel_grip_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = steel_grip_idea
						}
						check_variable = {
							selected_government_system = 2
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 50
					}
					goverment_system_can_be_upgraded = yes
					has_idea = firstborn_of_sparta_idea
				}
			}
			sweat_and_blood_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = sweat_and_blood_idea
						}
						check_variable = {
							selected_government_system = 2
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 60
					}
					goverment_system_can_be_upgraded = yes
					has_idea = nerves_to_the_limit_idea
					has_idea = steel_grip_idea
				}
			}
			foundation_of_the_past_overlay_visible = {
				check_variable = {
					selected_government_system = 2
				}
				NOT = {
					has_idea = foundation_of_the_past_idea
				}
			}
			behind_the_scenes_overlay_visible = {
				check_variable = {
					selected_government_system = 2
				}
				NOT = {
					has_idea = behind_the_scenes_idea
				}
				has_idea = foundation_of_the_past_idea
			}
			without_any_hassle_overlay_visible = {
				check_variable = {
					selected_government_system = 2
				}
				NOT = {
					has_idea = without_any_hassle_idea
				}
				has_idea = foundation_of_the_past_idea
			}
			our_home_is_our_fortress_overlay_visible = {
				check_variable = {
					selected_government_system = 2
				}
				NOT = {
					has_idea = our_home_is_our_fortress_idea
				}
				has_idea = foundation_of_the_past_idea
			}
			rural_militia_overlay_visible = {
				check_variable = {
					selected_government_system = 2
				}
				NOT = {
					has_idea = rural_militia_idea
					has_idea = industrial_militia_idea
				}
				has_idea = behind_the_scenes_idea
				has_idea = without_any_hassle_idea
				has_idea = our_home_is_our_fortress_idea
			}
			industrial_militia_overlay_visible = {
				check_variable = {
					selected_government_system = 2
				}
				NOT = {
					has_idea = rural_militia_idea
					has_idea = industrial_militia_idea
				}
				has_idea = behind_the_scenes_idea
				has_idea = without_any_hassle_idea
				has_idea = our_home_is_our_fortress_idea
			}
			land_river_overlay_visible = {
				check_variable = {
					selected_government_system = 2
				}
				NOT = {
					has_idea = land_river_idea
				}
				has_idea = industrial_militia_idea
			}
			scraping_down_the_bottom_overlay_visible = {
				check_variable = {
					selected_government_system = 2
				}
				NOT = {
					has_idea = scraping_down_the_bottom_idea
				}
				has_idea = rural_militia_idea
			}
			in_a_blink_overlay_visible = {
				check_variable = {
					selected_government_system = 2
				}
				NOT = {
					has_idea = in_a_blink_idea
				}
				OR = {
					has_idea = land_river_idea
					has_idea = scraping_down_the_bottom_idea
				}
			}
			oprichnina_hand_overlay_visible = {
				check_variable = {
					selected_government_system = 2
				}
				NOT = {
					has_idea = oprichnina_hand_idea
				}
				has_idea = in_a_blink_idea
			}
			peripheral_cleansing_overlay_visible = {
				check_variable = {
					selected_government_system = 2
				}
				NOT = {
					has_idea = peripheral_cleansing_idea
				}
				has_idea = in_a_blink_idea
			}
			destroy_anomalies_overlay_visible = {
				check_variable = {
					selected_government_system = 2
				}
				NOT = {
					has_idea = destroy_anomalies_idea
				}
				has_idea = oprichnina_hand_idea
				has_idea = peripheral_cleansing_idea
			}
			fighting_for_families_overlay_visible = {
				check_variable = {
					selected_government_system = 2
				}
				NOT = {
					has_idea = fighting_for_families_idea
				}
				has_idea = destroy_anomalies_idea
			}
			military_loans_overlay_visible = {
				check_variable = {
					selected_government_system = 2
				}
				NOT = {
					has_idea = military_loans_idea
				}
				has_idea = destroy_anomalies_idea
			}
			from_stones_and_sticks_overlay_visible = {
				check_variable = {
					selected_government_system = 2
				}
				NOT = {
					has_idea = from_stones_and_sticks_idea
				}
				has_idea = destroy_anomalies_idea
			}
			autonomius_bataries_overlay_visible = {
				check_variable = {
					selected_government_system = 2
				}
				NOT = {
					has_idea = autonomius_bataries_idea
					has_idea = controlled_bataries_idea
				}
				has_idea = fighting_for_families_idea
				has_idea = military_loans_idea
				has_idea = from_stones_and_sticks_idea
			}
			controlled_bataries_overlay_visible = {
				check_variable = {
					selected_government_system = 2
				}
				NOT = {
					has_idea = autonomius_bataries_idea
					has_idea = controlled_bataries_idea
				}
				has_idea = fighting_for_families_idea
				has_idea = military_loans_idea
				has_idea = from_stones_and_sticks_idea
			}
			firstborn_of_sparta_overlay_visible = {
				check_variable = {
					selected_government_system = 2
				}
				NOT = {
					has_idea = firstborn_of_sparta_idea
				}
				OR = {
					has_idea = autonomius_bataries_idea
					has_idea = controlled_bataries_idea
				}
			}
			nerves_to_the_limit_overlay_visible = {
				check_variable = {
					selected_government_system = 2
				}
				NOT = {
					has_idea = nerves_to_the_limit_idea
				}
				has_idea = firstborn_of_sparta_idea
			}
			steel_grip_overlay_visible = {
				check_variable = {
					selected_government_system = 2
				}
				NOT = {
					has_idea = steel_grip_idea
				}
				has_idea = firstborn_of_sparta_idea
			}
			sweat_and_blood_overlay_visible = {
				check_variable = {
					selected_government_system = 2
				}
				NOT = {
					has_idea = sweat_and_blood_idea
				}
				has_idea = nerves_to_the_limit_idea
				has_idea = steel_grip_idea
			}
		}
		effects = {
			select_model_button_click = {
				select_smoilov_system = yes
			}
			close_button_click = {
				set_variable = {
					gos_usroistvo = 0
				}
			}
			foundation_of_the_past_button_click = {
				foundation_of_the_past_effect = yes
			}
			behind_the_scenes_button_click = {
				behind_the_scenes_effect = yes
			}
			without_any_hassle_button_click = {
				without_any_hassle_effect = yes
			}
			our_home_is_our_fortress_button_click = {
				our_home_is_our_fortress_effect = yes
			}
			rural_militia_button_click = {
				rural_militia_effect = yes
			}
			industrial_militia_button_click = {
				industrial_militia_effect = yes
			}
			land_river_button_click = {
				land_river_effect = yes
			}
			scraping_down_the_bottom_button_click = {
				scraping_down_the_bottom_effect = yes
			}
			in_a_blink_button_click = {
				in_a_blink_effect = yes
			}
			oprichnina_hand_button_click = {
				oprichnina_hand_effect = yes
			}
			peripheral_cleansing_button_click = {
				peripheral_cleansing_effect = yes
			}
			destroy_anomalies_button_click = {
				destroy_anomalies_effect = yes
			}
			fighting_for_families_button_click = {
				fighting_for_families_effect = yes
			}
			military_loans_button_click = {
				military_loans_effect = yes
			}
			from_stones_and_sticks_button_click = {
				from_stones_and_sticks_effect = yes
			}
			autonomius_bataries_button_click = {
				autonomius_bataries_effect = yes
			}
			controlled_bataries_button_click = {
				controlled_bataries_effect = yes
			}
			firstborn_of_sparta_button_click = {
				firstborn_of_sparta_effect = yes
			}
			nerves_to_the_limit_button_click = {
				nerves_to_the_limit_effect = yes
			}
			steel_grip_button_click = {
				steel_grip_effect = yes
			}
			sweat_and_blood_button_click = {
				sweat_and_blood_effect = yes
			}
		}
	}
	naumov_system_tree = {
		context_type = player_context
		parent_window_token = politics_tab
		window_name = "naumov_system_outer_handler"
		visible = {
			check_variable = { 
				gos_usroistvo = 3
			}
		}		
		triggers = {			
			select_model_button_visible = {
				NOT = {
					check_variable = {
						selected_government_system = 3
					}
				}
			}
			select_model_button_click_enabled = {
				set_temp_variable = {
					reform_points_for_upgrade = 20
				}
				goverment_system_can_be_upgraded = yes
			}
			common_duty_common_law_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = common_duty_common_law_idea
						}
						check_variable = {
							selected_government_system = 3
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 15
					}
					goverment_system_can_be_upgraded = yes
				}
			}
			existence_essence_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = existence_essence_idea
						}
						check_variable = {
							selected_government_system = 3
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 15
					}
					goverment_system_can_be_upgraded = yes
					NOT = {
						has_idea = existence_horror_idea
					}
					has_idea = common_duty_common_law_idea
				}
			}
			existence_horror_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = existence_horror_idea
						}
						check_variable = {
							selected_government_system = 3
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 15
					}
					goverment_system_can_be_upgraded = yes
					NOT = {
						has_idea = existence_essence_idea
					}
					has_idea = common_duty_common_law_idea
				}
			}
			caring_eye_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = caring_eye_idea
						}
						check_variable = {
							selected_government_system = 3
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 30
					}
					goverment_system_can_be_upgraded = yes
					NOT = {
						has_idea = interesting_observation_idea
					}
					has_idea = existence_essence_idea
				}
			}
			interesting_observation_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = interesting_observation_idea
						}
						check_variable = {
							selected_government_system = 3
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 15
					}
					goverment_system_can_be_upgraded = yes
					NOT = {
						has_idea = caring_eye_idea
					}
					has_idea = existence_essence_idea
				}
			}
			technological_revolution_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = technological_revolution_idea
						}
						check_variable = {
							selected_government_system = 3
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 30
					}
					goverment_system_can_be_upgraded = yes
					NOT = {
						has_idea = cultural_revolution_idea
					}
					has_idea = existence_horror_idea
				}
			}
			cultural_revolution_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = cultural_revolution_idea
						}
						check_variable = {
							selected_government_system = 3
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 30
					}
					goverment_system_can_be_upgraded = yes
					NOT = {
						has_idea = technological_revolution_idea
					}
					has_idea = existence_horror_idea
				}
			}
			assured_survival_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = assured_survival_idea
						}
						check_variable = {
							selected_government_system = 3
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 30
					}
					goverment_system_can_be_upgraded = yes
					OR = {
						has_idea = caring_eye_idea
						has_idea = interesting_observation_idea
					}
				}
			}
			proportionate_fee_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = proportionate_fee_idea
						}
						check_variable = {
							selected_government_system = 3
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 15
					}
					goverment_system_can_be_upgraded = yes
					OR = {
						has_idea = technological_revolution_idea
						has_idea = cultural_revolution_idea
					}
				}
			}
			flawless_soldier_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = flawless_soldier_idea
						}
						check_variable = {
							selected_government_system = 3
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 15
					}
					goverment_system_can_be_upgraded = yes
					OR = {
						has_idea = assured_survival_idea
						has_idea = proportionate_fee_idea
					}
				}
			}
			all_describing_formula_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = all_describing_formula_idea
						}
						check_variable = {
							selected_government_system = 3
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 45
					}
					goverment_system_can_be_upgraded = yes
					has_idea = flawless_soldier_idea
				}
			}
			primary_broth_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = primary_broth_idea
						}
						check_variable = {
							selected_government_system = 3
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 15
					}
					goverment_system_can_be_upgraded = yes
					has_idea = flawless_soldier_idea
				}
			}
			flowers_of_life_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = flowers_of_life_idea
						}
						check_variable = {
							selected_government_system = 3
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 15
					}
					goverment_system_can_be_upgraded = yes
					has_idea = all_describing_formula_idea
					has_idea = primary_broth_idea
				}
			}
			their_life_plans_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = their_life_plans_idea
						}
						check_variable = {
							selected_government_system = 3
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 30
					}
					goverment_system_can_be_upgraded = yes
					has_idea = flowers_of_life_idea
				}
			}
			cast_aside_doubts_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = cast_aside_doubts_idea
						}
						check_variable = {
							selected_government_system = 3
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 30
					}
					goverment_system_can_be_upgraded = yes
					has_idea = their_life_plans_idea
				}
			}
			potential_realization_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = potential_realization_idea
						}
						check_variable = {
							selected_government_system = 3
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 30
					}
					goverment_system_can_be_upgraded = yes
					has_idea = their_life_plans_idea
				}
			}
			order_in_mind_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = order_in_mind_idea
						}
						check_variable = {
							selected_government_system = 3
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 60
					}
					goverment_system_can_be_upgraded = yes
					has_idea = cast_aside_doubts_idea
				}
			}
			unity_by_blood_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = unity_by_blood_idea
						}
						check_variable = {
							selected_government_system = 3
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 15
					}
					goverment_system_can_be_upgraded = yes
					has_idea = potential_realization_idea
				}
			}
			man_and_consciousness_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = man_and_consciousness_idea
						}
						check_variable = {
							selected_government_system = 3
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 30
					}
					goverment_system_can_be_upgraded = yes
					has_idea = unity_by_blood_idea
				}
			}
			cognitive_warfare_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = cognitive_warfare_idea
						}
						check_variable = {
							selected_government_system = 3
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 60
					}
					goverment_system_can_be_upgraded = yes
					has_idea = order_in_mind_idea
				}
			}
			body_limits_button_click_enabled = {
				if = {
					limit = {
						NOT = {
							has_idea = body_limits_idea
						}
						check_variable = {
							selected_government_system = 3
						}
					}
					set_temp_variable = {
						reform_points_for_upgrade = 90
					}
					goverment_system_can_be_upgraded = yes
					has_idea = cognitive_warfare_idea
					has_idea = man_and_consciousness_idea
				}
			}
			common_duty_common_law_overlay_visible = {
				check_variable = {
					selected_government_system = 3
				}
				NOT = {
					has_idea = common_duty_common_law_idea
				}
			}
			existence_essence_overlay_visible = {
				check_variable = {
					selected_government_system = 3
				}
				NOT = {
					has_idea = existence_essence_idea
					has_idea = existence_horror_idea
				}
				has_idea = common_duty_common_law_idea
			}
			existence_horror_overlay_visible = {
				check_variable = {
					selected_government_system = 3
				}
				NOT = {
					has_idea = existence_essence_idea
					has_idea = existence_horror_idea
				}
				has_idea = common_duty_common_law_idea
			}
			caring_eye_overlay_visible = {
				check_variable = {
					selected_government_system = 3
				}
				NOT = {
					has_idea = caring_eye_idea
					has_idea = interesting_observation_idea
				}
				has_idea = existence_essence_idea
			}
			interesting_observation_overlay_visible = {
				check_variable = {
					selected_government_system = 3
				}
				NOT = {
					has_idea = caring_eye_idea
					has_idea = interesting_observation_idea
				}
				has_idea = existence_essence_idea
			}
			technological_revolution_overlay_visible = {
				check_variable = {
					selected_government_system = 3
				}
				NOT = {
					has_idea = technological_revolution_idea
					has_idea = cultural_revolution_idea
				}
				has_idea = existence_horror_idea
			}
			cultural_revolution_overlay_visible = {
				check_variable = {
					selected_government_system = 3
				}
				NOT = {
					has_idea = technological_revolution_idea
					has_idea = cultural_revolution_idea
				}
				has_idea = existence_horror_idea
			}
			assured_survival_overlay_visible = {
				check_variable = {
					selected_government_system = 3
				}
				NOT = {
					has_idea = assured_survival_idea
				}
				OR = {
					has_idea = caring_eye_idea
					has_idea = interesting_observation_idea
				}
			}
			proportionate_fee_overlay_visible = {
				check_variable = {
					selected_government_system = 3
				}
				NOT = {
					has_idea = proportionate_fee_idea
				}
				OR = {
					has_idea = technological_revolution_idea
					has_idea = cultural_revolution_idea
				}
			}
			flawless_soldier_overlay_visible = {
				check_variable = {
					selected_government_system = 3
				}
				NOT = {
					has_idea = flawless_soldier_idea
				}
				OR = {
					has_idea = assured_survival_idea
					has_idea = proportionate_fee_idea
				}
			}
			all_describing_formula_overlay_visible = {
				check_variable = {
					selected_government_system = 3
				}
				NOT = {
					has_idea = all_describing_formula_idea
				}
				has_idea = flawless_soldier_idea
			}
			primary_broth_overlay_visible = {
				check_variable = {
					selected_government_system = 3
				}
				NOT = {
					has_idea = primary_broth_idea
				}
				has_idea = flawless_soldier_idea
			}
			flowers_of_life_overlay_visible = {
				check_variable = {
					selected_government_system = 3
				}
				NOT = {
					has_idea = flowers_of_life_idea
				}
				has_idea = all_describing_formula_idea
				has_idea = primary_broth_idea
			}
			their_life_plans_overlay_visible = {
				check_variable = {
					selected_government_system = 3
				}
				NOT = {
					has_idea = their_life_plans_idea
				}
				has_idea = flowers_of_life_idea
			}
			cast_aside_doubts_overlay_visible = {
				check_variable = {
					selected_government_system = 3
				}
				NOT = {
					has_idea = cast_aside_doubts_idea
				}
				has_idea = their_life_plans_idea
			}
			potential_realization_overlay_visible = {
				check_variable = {
					selected_government_system = 3
				}
				NOT = {
					has_idea = potential_realization_idea
				}
				has_idea = their_life_plans_idea
			}
			order_in_mind_overlay_visible = {
				check_variable = {
					selected_government_system = 3
				}
				NOT = {
					has_idea = order_in_mind_idea
				}
				has_idea = cast_aside_doubts_idea
			}
			unity_by_blood_overlay_visible = {
				check_variable = {
					selected_government_system = 3
				}
				NOT = {
					has_idea = unity_by_blood_idea
				}
				has_idea = potential_realization_idea
			}
			man_and_consciousness_overlay_visible = {
				check_variable = {
					selected_government_system = 3
				}
				NOT = {
					has_idea = man_and_consciousness_idea
				}
				has_idea = unity_by_blood_idea
			}
			cognitive_warfare_overlay_visible = {
				check_variable = {
					selected_government_system = 3
				}
				NOT = {
					has_idea = cognitive_warfare_idea
				}
				has_idea = order_in_mind_idea
			}
			body_limits_overlay_visible = {
				check_variable = {
					selected_government_system = 3
				}
				NOT = {
					has_idea = body_limits_idea
				}
				has_idea = man_and_consciousness_idea
				has_idea = cognitive_warfare_idea
			}
		}
		effects = {		
			select_model_button_click = {
				if = {
					limit = {
						check_variable = {
							selected_government_system = 0
						}
					}
					add_to_variable = { 
						reform_points_growth = 1
					}
					add_political_power = 100
				}
				else = {
					remove_ideas_with_trait = menshikov_system_trait
					remove_ideas_with_trait = naumov_system_trait
				}
				set_variable = {
					var = selected_government_system
					value = 3
					tooltip = select_naumov_system_tt
				}
				subtract_from_variable = {
					var = reform_points
					value = 20
					tooltip = goverment_system_upgrade_tt
				}
				custom_effect_tooltip = select_naumov_system_idea_tt
			}
			close_button_click = {
				set_variable = {
					gos_usroistvo = 0
				}
			}
			common_duty_common_law_button_click = {
				if = {
					limit = {
						has_idea = common_duty_common_law_idea
					}
					custom_effect_tooltip = reform_researched_tt
				}
				else_if = {
					limit = {
						check_variable = {
							selected_government_system = 3
						}
					}
					hidden_effect = {
						add_ideas = common_duty_common_law_idea
						add_political_power = 150
					}
					subtract_from_variable = {
						var = reform_points
						value = 15
						tooltip = goverment_system_upgrade_tt
					}
				}
				else = {
					custom_effect_tooltip = goverment_system_upgrade_tt
					custom_effect_tooltip = model_is_not_selected_tt
				}
				custom_effect_tooltip = common_duty_common_law_reform_tt
				effect_tooltip = {
					add_political_power = 150
				}
			}
			existence_essence_button_click = {
				if = {
					limit = {
						has_idea = existence_essence_idea
					}
					custom_effect_tooltip = reform_researched_tt
				}
				else_if = {
					limit = {
						check_variable = {
							selected_government_system = 3
						}
					}
					hidden_effect = {
						add_ideas = existence_essence_idea
					}
					subtract_from_variable = {
						var = reform_points
						value = 15
						tooltip = goverment_system_upgrade_tt
					}
				}
				else = {
					custom_effect_tooltip = goverment_system_upgrade_tt
					custom_effect_tooltip = model_is_not_selected_tt
				}
				custom_effect_tooltip = existence_essence_reform_tt
			}
			existence_horror_button_click = {
				if = {
					limit = {
						has_idea = existence_horror_idea
					}
					custom_effect_tooltip = reform_researched_tt
				}
				else_if = {
					limit = {
						check_variable = {
							selected_government_system = 3
						}
					}
					hidden_effect = {
						add_ideas = existence_horror_idea
					}
					subtract_from_variable = {
						var = reform_points
						value = 15
						tooltip = goverment_system_upgrade_tt
					}
				}
				else = {
					custom_effect_tooltip = goverment_system_upgrade_tt
					custom_effect_tooltip = model_is_not_selected_tt
				}
				custom_effect_tooltip = existence_horror_reform_tt
			}
			caring_eye_button_click = {
				if = {
					limit = {
						has_idea = caring_eye_idea
					}
					custom_effect_tooltip = reform_researched_tt
				}
				else_if = {
					limit = {
						check_variable = {
							selected_government_system = 3
						}
					}
					hidden_effect = {
						add_ideas = caring_eye_idea
					}
					subtract_from_variable = {
						var = reform_points
						value = 30
						tooltip = goverment_system_upgrade_tt
					}
				}
				else = {
					custom_effect_tooltip = goverment_system_upgrade_tt
					custom_effect_tooltip = model_is_not_selected_tt
				}
				custom_effect_tooltip = caring_eye_reform_tt
			}
			interesting_observation_button_click = {
				if = {
					limit = {
						has_idea = interesting_observation_idea
					}
					custom_effect_tooltip = reform_researched_tt
				}
				else_if = {
					limit = {
						check_variable = {
							selected_government_system = 3
						}
					}
					hidden_effect = {
						add_ideas = interesting_observation_idea
					}
					subtract_from_variable = {
						var = reform_points
						value = 15
						tooltip = goverment_system_upgrade_tt
					}
				}
				else = {
					custom_effect_tooltip = goverment_system_upgrade_tt
					custom_effect_tooltip = model_is_not_selected_tt
				}
				custom_effect_tooltip = interesting_observation_reform_tt
			}
			technological_revolution_button_click = {
				if = {
					limit = {
						has_idea = technological_revolution_idea
					}
					custom_effect_tooltip = reform_researched_tt
				}
				else_if = {
					limit = {
						check_variable = {
							selected_government_system = 3
						}
					}
					hidden_effect = {
						add_ideas = technological_revolution_idea
					}
					subtract_from_variable = {
						var = reform_points
						value = 30
						tooltip = goverment_system_upgrade_tt
					}
				}
				else = {
					custom_effect_tooltip = goverment_system_upgrade_tt
					custom_effect_tooltip = model_is_not_selected_tt
				}
				custom_effect_tooltip = technological_revolution_reform_tt
			}
			cultural_revolution_button_click = {
				if = {
					limit = {
						has_idea = cultural_revolution_idea
					}
					custom_effect_tooltip = reform_researched_tt
				}
				else_if = {
					limit = {
						check_variable = {
							selected_government_system = 3
						}
					}
					hidden_effect = {
						add_ideas = cultural_revolution_idea
					}
					subtract_from_variable = {
						var = reform_points
						value = 30
						tooltip = goverment_system_upgrade_tt
					}
				}
				else = {
					custom_effect_tooltip = goverment_system_upgrade_tt
					custom_effect_tooltip = model_is_not_selected_tt
				}
				custom_effect_tooltip = cultural_revolution_reform_tt
			}
			assured_survival_button_click = {
				if = {
					limit = {
						has_idea = assured_survival_idea
					}
					custom_effect_tooltip = reform_researched_tt
				}
				else_if = {
					limit = {
						check_variable = {
							selected_government_system = 3
						}
					}
					hidden_effect = {
						add_ideas = assured_survival_idea
					}
					subtract_from_variable = {
						var = reform_points
						value = 30
						tooltip = goverment_system_upgrade_tt
					}
				}
				else = {
					custom_effect_tooltip = goverment_system_upgrade_tt
					custom_effect_tooltip = model_is_not_selected_tt
				}
				custom_effect_tooltip = assured_survival_reform_tt
			}
			proportionate_fee_button_click = {
				if = {
					limit = {
						has_idea = proportionate_fee_idea
					}
					custom_effect_tooltip = reform_researched_tt
				}
				else_if = {
					limit = {
						check_variable = {
							selected_government_system = 3
						}
					}
					hidden_effect = {
						add_ideas = proportionate_fee_idea
					}
					subtract_from_variable = {
						var = reform_points
						value = 15
						tooltip = goverment_system_upgrade_tt
					}
				}
				else = {
					custom_effect_tooltip = goverment_system_upgrade_tt
					custom_effect_tooltip = model_is_not_selected_tt
				}
				custom_effect_tooltip = proportionate_fee_reform_tt
			}
			flawless_soldier_button_click = {
				if = {
					limit = {
						has_idea = flawless_soldier_idea
					}
					custom_effect_tooltip = reform_researched_tt
				}
				else_if = {
					limit = {
						check_variable = {
							selected_government_system = 3
						}
					}
					hidden_effect = {
						add_ideas = flawless_soldier_idea
					}
					subtract_from_variable = {
						var = reform_points
						value = 15
						tooltip = goverment_system_upgrade_tt
					}
				}
				else = {
					custom_effect_tooltip = goverment_system_upgrade_tt
					custom_effect_tooltip = model_is_not_selected_tt
				}
				custom_effect_tooltip = flawless_soldier_reform_tt
			}
			all_describing_formula_button_click = {
				if = {
					limit = {
						has_idea = all_describing_formula_idea
					}
					custom_effect_tooltip = reform_researched_tt
				}
				else_if = {
					limit = {
						check_variable = {
							selected_government_system = 3
						}
					}
					hidden_effect = {
						add_ideas = all_describing_formula_idea
					}
					subtract_from_variable = {
						var = reform_points
						value = 45
						tooltip = goverment_system_upgrade_tt
					}
				}
				else = {
					custom_effect_tooltip = goverment_system_upgrade_tt
					custom_effect_tooltip = model_is_not_selected_tt
				}
				custom_effect_tooltip = all_describing_formula_reform_tt
			}
			primary_broth_button_click = {
				if = {
					limit = {
						has_idea = primary_broth_idea
					}
					custom_effect_tooltip = reform_researched_tt
				}
				else_if = {
					limit = {
						check_variable = {
							selected_government_system = 3
						}
					}
					hidden_effect = {
						add_ideas = primary_broth_idea
					}
					subtract_from_variable = {
						var = reform_points
						value = 15
						tooltip = goverment_system_upgrade_tt
					}
				}
				else = {
					custom_effect_tooltip = goverment_system_upgrade_tt
					custom_effect_tooltip = model_is_not_selected_tt
				}
				custom_effect_tooltip = primary_broth_reform_tt
			}
			flowers_of_life_button_click = {
				if = {
					limit = {
						has_idea = flowers_of_life_idea
					}
					custom_effect_tooltip = reform_researched_tt
				}
				else_if = {
					limit = {
						check_variable = {
							selected_government_system = 3
						}
					}
					hidden_effect = {
						add_ideas = flowers_of_life_idea
					}
					subtract_from_variable = {
						var = reform_points
						value = 15
						tooltip = goverment_system_upgrade_tt
					}
				}
				else = {
					custom_effect_tooltip = goverment_system_upgrade_tt
					custom_effect_tooltip = model_is_not_selected_tt
				}
				custom_effect_tooltip = flowers_of_life_reform_tt
			}
			their_life_plans_button_click = {
				if = {
					limit = {
						has_idea = their_life_plans_idea
					}
					custom_effect_tooltip = reform_researched_tt
				}
				else_if = {
					limit = {
						check_variable = {
							selected_government_system = 3
						}
					}
					hidden_effect = {
						add_ideas = their_life_plans_idea
					}
					subtract_from_variable = {
						var = reform_points
						value = 30
						tooltip = goverment_system_upgrade_tt
					}
				}
				else = {
					custom_effect_tooltip = goverment_system_upgrade_tt
					custom_effect_tooltip = model_is_not_selected_tt
				}
				custom_effect_tooltip = their_life_plans_reform_tt
			}
			cast_aside_doubts_button_click = {
				if = {
					limit = {
						has_idea = cast_aside_doubts_idea
					}
					custom_effect_tooltip = reform_researched_tt
				}
				else_if = {
					limit = {
						check_variable = {
							selected_government_system = 3
						}
					}
					hidden_effect = {
						add_ideas = cast_aside_doubts_idea
					}
					subtract_from_variable = {
						var = reform_points
						value = 30
						tooltip = goverment_system_upgrade_tt
					}
				}
				else = {
					custom_effect_tooltip = goverment_system_upgrade_tt
					custom_effect_tooltip = model_is_not_selected_tt
				}
				custom_effect_tooltip = cast_aside_doubts_reform_tt
			}
			potential_realization_button_click = {
				if = {
					limit = {
						has_idea = potential_realization_idea
					}
					custom_effect_tooltip = reform_researched_tt
				}
				else_if = {
					limit = {
						check_variable = {
							selected_government_system = 3
						}
					}
					hidden_effect = {
						add_ideas = potential_realization_idea
					}
					subtract_from_variable = {
						var = reform_points
						value = 30
						tooltip = goverment_system_upgrade_tt
					}
				}
				else = {
					custom_effect_tooltip = goverment_system_upgrade_tt
					custom_effect_tooltip = model_is_not_selected_tt
				}
				custom_effect_tooltip = potential_realization_reform_tt
			}
			order_in_mind_button_click = {
				if = {
					limit = {
						has_idea = order_in_mind_idea
					}
					custom_effect_tooltip = reform_researched_tt
				}
				else_if = {
					limit = {
						check_variable = {
							selected_government_system = 3
						}
					}
					hidden_effect = {
						add_ideas = order_in_mind_idea
					}
					subtract_from_variable = {
						var = reform_points
						value = 60
						tooltip = goverment_system_upgrade_tt
					}
				}
				else = {
					custom_effect_tooltip = goverment_system_upgrade_tt
					custom_effect_tooltip = model_is_not_selected_tt
				}
				custom_effect_tooltip = order_in_mind_reform_tt
			}
			unity_by_blood_button_click = {
				if = {
					limit = {
						has_idea = unity_by_blood_idea
					}
					custom_effect_tooltip = reform_researched_tt
				}
				else_if = {
					limit = {
						check_variable = {
							selected_government_system = 3
						}
					}
					hidden_effect = {
						add_ideas = unity_by_blood_idea
					}
					subtract_from_variable = {
						var = reform_points
						value = 15
						tooltip = goverment_system_upgrade_tt
					}
				}
				else = {
					custom_effect_tooltip = goverment_system_upgrade_tt
					custom_effect_tooltip = model_is_not_selected_tt
				}
				custom_effect_tooltip = unity_by_blood_reform_tt
			}
			man_and_consciousness_button_click = {
				if = {
					limit = {
						has_idea = man_and_consciousness_idea
					}
					custom_effect_tooltip = reform_researched_tt
				}
				else_if = {
					limit = {
						check_variable = {
							selected_government_system = 3
						}
					}
					hidden_effect = {
						add_ideas = man_and_consciousness_idea
					}
					subtract_from_variable = {
						var = reform_points
						value = 30
						tooltip = goverment_system_upgrade_tt
					}
				}
				else = {
					custom_effect_tooltip = goverment_system_upgrade_tt
					custom_effect_tooltip = model_is_not_selected_tt
				}
				custom_effect_tooltip = man_and_consciousness_reform_tt
			}
			cognitive_warfare_button_click = {
				if = {
					limit = {
						has_idea = cognitive_warfare_idea
					}
					custom_effect_tooltip = reform_researched_tt
				}
				else_if = {
					limit = {
						check_variable = {
							selected_government_system = 3
						}
					}
					hidden_effect = {
						add_ideas = cognitive_warfare_idea
					}
					subtract_from_variable = {
						var = reform_points
						value = 60
						tooltip = goverment_system_upgrade_tt
					}
				}
				else = {
					custom_effect_tooltip = goverment_system_upgrade_tt
					custom_effect_tooltip = model_is_not_selected_tt
				}
				custom_effect_tooltip = cognitive_warfare_reform_tt
			}
			body_limits_button_click = {
				if = {
					limit = {
						has_idea = body_limits_idea
					}
					custom_effect_tooltip = reform_researched_tt
				}
				else_if = {
					limit = {
						check_variable = {
							selected_government_system = 3
						}
					}
					hidden_effect = {
						add_ideas = body_limits_idea
					}
					subtract_from_variable = {
						var = reform_points
						value = 90
						tooltip = goverment_system_upgrade_tt
					}
				}
				else = {
					custom_effect_tooltip = goverment_system_upgrade_tt
					custom_effect_tooltip = model_is_not_selected_tt
				}
				custom_effect_tooltip = body_limits_reform_tt
			}
		}
	}
}