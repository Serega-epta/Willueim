scripted_gui = {
	economy_view = {
		context_type = player_context
		parent_window_token = politics_tab
		window_name = "economy_view"
		dirty = main_country_gui
		effects = {
			economy_button_click = {
				if = {
					limit = { 
						NOT = { 
							check_variable = {
								main_country_gui = 9
							}
						}
					}
					set_variable = {
						main_country_gui = 9
					}					
				}
				else = {
					set_variable = {
						main_country_gui = 0
					}
				}
			}
		}
	}

	economy_main = {
		context_type = player_context	
		parent_window_token = politics_tab
		window_name = "economy_container"
		visible = {
			check_variable = {
				main_country_gui = 9
			}
		}
		triggers = {
			picker_production_visible = {
				set_temp_variable = {
					picker_production_x = 30.545
				}
				multiply_temp_variable = {
					picker_production_x = production_finances
				}
			}
			picker_civil_visible = {
				set_temp_variable = {
					picker_civil_x = 30.545
				}
				multiply_temp_variable = {
					picker_civil_x = civil_finances
				}
			}
			picker_army_visible = {
				set_temp_variable = {
					picker_army_x = 30.545
				}
				multiply_temp_variable = {
					picker_army_x = army_finances
				}
			}
			decrease_production_financing_click_enabled = {
				check_variable = {
					production_finances > 0
				}
				if = {
					limit = {
						check_variable = {
							economic_income > economic_expenses
						}
					}
					check_variable = {
						black_rubles_budget > 4999.999
					}
				}
			}
			increase_production_financing_click_enabled = {
				check_variable = {
					production_finances < 10
				}
				check_variable = {
					black_rubles_budget > 4999.999
				}
			}
			decrease_civil_financing_click_enabled = {
				check_variable = {
					civil_finances > 0
				}
				if = {
					limit = {
						check_variable = {
							economic_income > economic_expenses
						}
					}
					check_variable = {
						black_rubles_budget > 4999.999
					}
				}
			}
			increase_civil_financing_click_enabled = {
				check_variable = {
					civil_finances < 10
				}
				check_variable = {
					black_rubles_budget > 4999.999
				}
			}
			decrease_army_financing_click_enabled = {
				check_variable = {
					army_finances > 0
				}
				if = {
					limit = {
						check_variable = {
							economic_income > economic_expenses
						}
					}
					check_variable = {
						black_rubles_budget > 4999.999
					}
				}
			}
			increase_army_financing_click_enabled = {
				check_variable = {
					army_finances < 10
				}
				check_variable = {
					black_rubles_budget > 4999.999
				}
			}
		}
		effects = {
			decrease_production_financing_click = {
				subtract_from_variable = {
					production_finances = 1
				}
				#temp variable for possible tooltip
				set_temp_variable = {
					dbudget = 5000
				}
				clamp_temp_variable = {
					var = dbudget
					max = black_rubles_budget
				}
				subtract_from_variable = {
					black_rubles_budget = dbudget
				}
				calc_production_finances = yes
				calc_economic_expenses = yes
			}
			increase_production_financing_click = {
				add_to_variable = {
					production_finances = 1
				}
				subtract_from_variable = {
					black_rubles_budget = 5000
				}
				calc_production_finances = yes
				calc_economic_expenses = yes
			}
			decrease_civil_financing_click = {
				subtract_from_variable = {
					civil_finances = 1
				}
				#temp variable for possible tooltip
				set_temp_variable = {
					dbudget = 5000
				}
				clamp_temp_variable = {
					var = dbudget
					max = black_rubles_budget
				}
				subtract_from_variable = {
					black_rubles_budget = dbudget
				}
				calc_civil_finances = yes
				calc_economic_expenses = yes
			}
			increase_civil_financing_click = {
				add_to_variable = {
					civil_finances = 1
				}
				subtract_from_variable = {
					black_rubles_budget = 5000
				}
				calc_civil_finances = yes
				calc_economic_expenses = yes
			}
			decrease_army_financing_click = {
				subtract_from_variable = {
					army_finances = 1
				}
				#temp variable for possible tooltip
				set_temp_variable = {
					dbudget = 5000
				}
				clamp_temp_variable = {
					var = dbudget
					max = black_rubles_budget
				}
				subtract_from_variable = {
					black_rubles_budget = dbudget
				}
				calc_army_finances = yes
				calc_economic_expenses = yes
			}
			increase_army_financing_click = {
				add_to_variable = {
					army_finances = 1
				}
				subtract_from_variable = {
					black_rubles_budget = 5000
				}
				calc_army_finances = yes
				calc_economic_expenses = yes
			}
		}
		properties = {
			picker_production = {
				x = picker_production_x
			}
			picker_civil = {
				x = picker_civil_x
			}
			picker_army = {
				x = picker_army_x
			}
		}
	}	
} 
