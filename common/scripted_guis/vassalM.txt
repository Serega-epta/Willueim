scripted_gui = {

    house = {
    
        context_type = selected_country_context
		
		window_name = "house"
		
		visible = {
            has_variable = global.open_door
		}
		set_temp_variable = { temp10 = FROM.Variablevassal }
		set_temp_variable = { temp20 = FROM.Variablevassalis }
		set_temp_variable = { temp30 = FROM.Variablevassalfa }
		set_temp_variable = { temp40 = FROM.Variablevassalwar }
		add_to_temp_variable = { temp1 = temp20 }
		add_to_temp_variable = { temp1 = temp30 }
		add_to_temp_variable = { temp1 = temp40 }
		set_temp_variable = { FROM.ALLs = temp10 }
		if = { 
			limit = {  check_variable = { FROM.ALLs > 11 } }
			set_global_flag = { flag=puppet_wars value =1}
			}
		
		
		effects = {
        
			Strel_1_click = {
							ROOT={
							add_political_power = -50
							}	
                             add_to_variable = { FROM.Variablevassal = 1 }
							 add_to_variable = { ROOT.Variablevassal_all = 1 }
							clamp_variable = { var = FROM.Variablevassal min = 0 max = 5 }
							if = { 
							limit = { FROM.Variablevassal = 1 }
							FROM={
							add_dynamic_modifier = { modifier = people_1 }
							}
							ROOT={
							add_dynamic_modifier = { modifier = people }
							}
							}
							set_temp_variable = { temp1 = ROOT.Variablevassal_all }
							multiply_temp_variable = { temp1 = 0.01 }
							set_variable = { ROOT.man = temp1 }
							set_temp_variable = { temp2 = ROOT.man }
							multiply_temp_variable = { temp2 = FROM.manpower }
							set_variable = { ROOT.manmore = temp2 }
							set_temp_variable = { temp3 = FROM.Variablevassal }
							multiply_temp_variable = { temp3 = -0.01 }
							set_variable = { FROM.man = temp3 }
							set_temp_variable = { temp4 = FROM.man }
							multiply_temp_variable = { temp4 = FROM.manpower }
							set_variable = { FROM.manmore = temp4 }
			}
			Strel_5_click = {
							ROOT={
							add_political_power = -50
							}
							subtract_from_variable = { FROM.Variablevassal = 1 }
							subtract_from_variable = { ROOT.Variablevassal_all = 1 }
                            clamp_variable = { var = FROM.Variablevassal min = 0 max = 5 }
							set_temp_variable = { temp1 = ROOT.Variablevassal_all }
							multiply_temp_variable = { temp1 = 0.01 }
							set_variable = { ROOT.man = temp1 }
							set_temp_variable = { temp2 = ROOT.man }
							multiply_temp_variable = { temp2 = FROM.manpower }
							set_variable = { ROOT.manmore = temp2 }
							set_temp_variable = { temp3 = FROM.Variablevassal_all }
							multiply_temp_variable = { temp3 = -0.01 }
							set_variable = { FROM.man = temp3 }
							set_temp_variable = { temp4 = FROM.man }
							multiply_temp_variable = { temp4 = FROM.manpower }
							set_variable = { FROM.manmore = temp4 }
			}
			Strel_2_click = {
							ROOT={
							add_political_power = -50
							}
                            				add_to_variable = { FROM.Variablevassalis = 1 }
							add_to_variable = { ROOT.Variablevassalis_all = 1 }
							clamp_variable = { var = FROM.Variablevassalis min = 0 max = 5 }
							if = { 
							limit = { FROM.Variablevassalis = 1 }
							FROM={
							add_dynamic_modifier = { modifier = issled_1 }
							}
							ROOT={
							add_dynamic_modifier = { modifier = issled }
							}
							}
							set_temp_variable = { temp1 = ROOT.Variablevassalis_all }
							multiply_temp_variable = { temp1 = 0.01 }
							set_variable = { ROOT.Issled = temp1 }
							set_temp_variable = { temp2 = FROM.Variablevassalis }
							multiply_temp_variable = { temp2 = -0.01 }
							set_variable = { FROM.Issled = temp2 }
							
			}
			Strel_6_click = {
							ROOT={
							add_political_power = -50
							}
							subtract_from_variable = { FROM.Variablevassalis = 1 }
							subtract_from_variable = { ROOT.Variablevassalis_all = 1 }
                            clamp_variable = { var = FROM.Variablevassalis min = 0 max = 5 }
							set_temp_variable = { temp1 = ROOT.Variablevassalis_all }
							multiply_temp_variable = { temp1 = 0.01 }
							set_variable = { ROOT.Issled = temp1 }
							set_temp_variable = { temp2 = FROM.Variablevassalis }
							multiply_temp_variable = { temp2 = -0.01 }
							set_variable = { FROM.Issled = temp2 }
							
			}
			Strel_3_click = {
							ROOT={
							add_political_power = -50
							}
                            add_to_variable = { FROM.Variablevassalfa = 1 }
							add_to_variable = { ROOT.Variablevassalfa_all = 1 }
							clamp_variable = { var = FROM.Variablevassalfa min = 0 max = 5 }
							if = { 
							limit = { FROM.Variablevassalfa = 1 }
							FROM={
							add_dynamic_modifier = { modifier = fabricks_1 }
							}
							ROOT={
							add_dynamic_modifier = { modifier = fabricks }
							}
							}
							set_temp_variable = { temp1 = ROOT.Variablevassalfa_all }
							multiply_temp_variable = { temp1 = 0.05 }
							set_variable = { ROOT.fab = temp1 }
							set_temp_variable = { temp2 = FROM.Variablevassalfa }
							multiply_temp_variable = { temp2 = -0.05 }
							set_variable = { FROM.fab = temp2 }
			}
			Strel_7_click = {
							ROOT={
							add_political_power = -50
							}
							subtract_from_variable = { FROM.Variablevassalfa = 1 }
                            clamp_variable = { var = FROM.Variablevassalfa min = 0 max = 5 }
							subtract_from_variable = { ROOT.Variablevassalfa_all = 1 }
							set_temp_variable = { temp1 = ROOT.Variablevassalfa_all }
							multiply_temp_variable = { temp1 = 0.05 }
							set_variable = { ROOT.fab = temp1 }
							set_temp_variable = { temp2 = FROM.Variablevassalfa }
							multiply_temp_variable = { temp2 = -0.05 }
							set_variable = { FROM.fab = temp2 }
			}
			Strel_4_click = {
							ROOT={
							add_political_power = -50
							}
                            add_to_variable = { FROM.Variablevassalwar = 1 }
							add_to_variable = { ROOT.Variablevassalwar_all = 1 }
							clamp_variable = { var = FROM.Variablevassalwar min = 0 max = 5 }
							if = { 
							limit = { FROM.Variablevassalwar = 1 }
							FROM={
							add_dynamic_modifier = { modifier = warzawod_1 }
							}
							ROOT={
							add_dynamic_modifier = { modifier = warzawod }
							}
							}
							set_temp_variable = { temp1 = ROOT.Variablevassalwar_all }
							multiply_temp_variable = { temp1 = 0.05 }
							set_variable = { ROOT.warzav = temp1 }
							set_temp_variable = { temp2 = FROM.Variablevassalwar }
							multiply_temp_variable = { temp2 = -0.05 }
							set_variable = { FROM.warzav = temp2 }
			}
			Strel_8_click = {
							ROOT={
							add_political_power = -50
							}
							subtract_from_variable = { FROM.Variablevassalwar = 1 }
							subtract_from_variable = { ROOT.Variablevassalwar_all = 1 }
                            clamp_variable = { var = FROM.Variablevassalwar min = 0 max = 5 }
							set_temp_variable = { temp1 = ROOT.Variablevassalwar_all }
							multiply_temp_variable = { temp1 = 0.05 }
							set_variable = { ROOT.warzav = temp1 }
							set_temp_variable = { temp2 = FROM.Variablevassalwar }
							multiply_temp_variable = { temp2 = -0.05 }
							set_variable = { FROM.warzav = temp2 }
			}
			
			button_close_click = {            
				clear_variable = global.open_door
			}
		}
        
		triggers = {
            Strel_1_click_enabled = {	
								ROOT={
							has_political_power > 50
							    }
								 
								 is_puppet_of = ROOT
                                check_variable = { FROM.Variablevassal < 5 }
			}
			Strel_2_click_enabled = {
								 ROOT={
							has_political_power > 50
							    }
								 is_puppet_of = ROOT	
                                check_variable = { FROM.Variablevassalis < 5 }
			}
			Strel_5_click_enabled = {
								ROOT={
							has_political_power > 50
							    }
								 is_puppet_of = ROOT
                                check_variable = { FROM.Variablevassal > 0 }
			}
			Strel_6_click_enabled = {
								ROOT={
							has_political_power > 50
							    }
								 is_puppet_of = ROOT
                                check_variable = { FROM.Variablevassalis > 0 }
			}
			Strel_3_click_enabled = {
								ROOT={
							has_political_power > 50
							    }
								 is_puppet_of = ROOT
                                check_variable = { FROM.Variablevassalfa  < 5 }
			}
			Strel_7_click_enabled = {
							     ROOT={
							has_political_power > 50
							    }
								 is_puppet_of = ROOT
                                check_variable = { FROM.Variablevassalfa > 0 }
			}
			Strel_4_click_enabled = {
								ROOT={
							has_political_power > 50
							    }
								 is_puppet_of = ROOT
                                check_variable = { FROM.Variablevassalwar  < 5 }
			}
			Strel_8_click_enabled = {
								 ROOT={
							has_political_power > 50
							    }
								 is_puppet_of = ROOT
                                check_variable = { FROM.Variablevassalwar > 0 }
			}
			
            
            Polzun_1_visible = {
                check_variable = { FROM.Variablevassal = 0 }
            }
			Polzun_2_visible = {
                check_variable = { FROM.Variablevassal = 1 }
            }
			Polzun_3_visible = {
                check_variable = { FROM.Variablevassal = 2 }
            }
			Polzun_4_visible = {
                check_variable = { FROM.Variablevassal = 3 }
            }
			Polzun_5_visible = {
                check_variable = { FROM.Variablevassal = 4 }
            }
			Polzun_6_visible = {
                check_variable = { FROM.Variablevassal = 5 }
            }
			Polzun_7_visible = {
                check_variable = { FROM.Variablevassalis = 0 }
            }
			Polzun_8_visible = {
                check_variable = { FROM.Variablevassalis = 1 }
            }
			Polzun_9_visible = {
                check_variable = { FROM.Variablevassalis = 2 }
            }
			Polzun_10_visible = {
                check_variable = { FROM.Variablevassalis = 3 }
            }
			Polzun_11_visible = {
                check_variable = { FROM.Variablevassalis = 4 }
            }
			Polzun_12_visible = {
                check_variable = { FROM.Variablevassalis = 5 }
            }
			Polzun_13_visible = {
                check_variable = { FROM.Variablevassalfa = 0 }
            }
			Polzun_14_visible = {
                check_variable = { FROM.Variablevassalfa = 1 }
            }
			Polzun_15_visible = {
                check_variable = { FROM.Variablevassalfa = 2 }
            }
			Polzun_16_visible = {
                check_variable = { FROM.Variablevassalfa = 3 }
            }
			Polzun_17_visible = {
                check_variable = { FROM.Variablevassalfa = 4 }
            }
			Polzun_18_visible = {
                check_variable = { FROM.Variablevassalfa = 5 }
            }
			Polzun_19_visible = {
                check_variable = { FROM.Variablevassalwar = 0 }
            }
			Polzun_20_visible = {
                check_variable = { FROM.Variablevassalwar = 1 }
            }
			Polzun_21_visible = {
                check_variable = { FROM.Variablevassalwar = 2 }
            }
			Polzun_22_visible = {
                check_variable = { FROM.Variablevassalwar = 3 }
            }
			Polzun_23_visible = {
                check_variable = { FROM.Variablevassalwar = 4 }
            }
			Polzun_24_visible = {
                check_variable = { FROM.Variablevassalwar = 5}
            }
			
        }
    }
} 